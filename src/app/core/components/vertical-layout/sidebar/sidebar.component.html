<aside class="sidebar" [class.sidebar-closed]="!isOpen">
  <nav class="sidebar-nav">
    <div *ngFor="let section of navSections" class="nav-section">
      <p class="nav-section-title">{{ section.title }}</p>
      <ul class="nav-list">
        <li *ngFor="let link of section.links">

          <a *ngIf="!link.children"
          [routerLink]="[link.route]" 
          routerLinkActive="active" 
          [routerLinkActiveOptions]="{exact: true}"
            class="nav-link">
            <i class="{{ link.icon }} nav-icon"></i>
            <span>{{ link.name }}</span>
          </a>

          <div *ngIf="link.children"
          (click)="toggleDropdown(link)"
          class="nav-link dropdown-toggle" 
          [class.active-dropdown]="link.isOpen"
          >
            <i class="{{ link.icon }} nav-icon"></i>
            <span>{{ link.name }}</span>
            <i class="fas fa-chevron-right nav-arrow" [class.rotate-90]="link.isOpen"></i>
          </div>

          <ul *ngIf="link.children && link.isOpen" class="sub-nav-list">
            <li *ngFor="let sublink of link.children">
              <a [routerLink]="[sublink.route]" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}"
                class="sub-nav-link">
                <i class="{{ sublink.icon }} nav-icon"></i>
                <span>{{ sublink.name }}</span>
              </a>
            </li>
          </ul>

        </li>
      </ul>
    </div>
  </nav>

  <!-- <div class="sidebar-footer">
    <i class="fas fa-cog footer-icon" title="Configurações"></i>
    <i class="fas fa-envelope footer-icon" title="Mensagens"></i>
    <i class="fas fa-user footer-icon" title="Perfil"></i>
  </div> -->
</aside>