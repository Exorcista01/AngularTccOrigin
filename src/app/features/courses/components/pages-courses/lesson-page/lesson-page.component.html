@if (course) {

<div class="lesson-page-container">
  <main class="main-content-lesson">
    @if (toggleButtonSidebar) {
    <button class="open-sidebar-button" (click)="toggleOpen()">
      <span class="material-symbols-outlined">menu_open</span>
      <span class="open-sidebar-button-text">Conteúdo do Curso</span>
    </button>
    } @if (ActiveLesson) {

    <div class="video-container">
      <iframe
        src="https://www.youtube.com/embed/3qBXWUpoPHo?si=sDq6L82L0kYm9Qh3"
        title="YouTube video player"
        frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
        allowfullscreen
      >
      </iframe>
    </div>

    <div class="lesson-btns-navigation">
      <div class="lesson-title-block">
        <p class="lesson-mudule">
          Modúlo {{ ActiveModule?.order }}: {{ ActiveModule?.title }}
        </p>
        <h2 class="lesson-title">{{ ActiveLesson.title }}</h2>
      </div>
      <div class="lesson-actions">
        <button class="btn-nav" (click)="goToPreviousLesson()">
          <span class="material-symbols-outlined">arrow_back</span>
          <span>Anterior</span>
        </button>

        <button class="btn-nav btn-proximo" (click)="goToNextLesson()">
          <span>Proximo</span>
          <span class="material-symbols-outlined">arrow_forward</span>
        </button>
      </div>
    </div>

    <div class="tabs-container">
      <app-navigation-content
        [isSidebarClosed]="toggleButtonSidebar"
        [activeTab]="activeTab"
        (tabChange)="setActiveTab($event)"
      >
      </app-navigation-content>

      <div class="tab-content-area">
        @switch (activeTab) { @case ('Visão-Geral'){
        <app-lesson-vision-all [course]="course" [ActiveLesson]="ActiveLesson">
        </app-lesson-vision-all>
        } @case ('Conteudo') {
        <app-lesson-content-sidebar
          [course]="course"
          [ActiveLesson]="ActiveLesson"
          [expandedModules]="expandedModules"
          (toggleModuleEvent)="toggleModule($event)">
        </app-lesson-content-sidebar>
        } @case ('Materias-Extra') {
        <app-lesson-materias-extra
          [course]="course"
          [ActiveLesson]="ActiveLesson"
        ></app-lesson-materias-extra>
        } @case ('Transcription') {
        <app-transcription
          [course]="course"
          [ActiveLesson]="ActiveLesson"
        ></app-transcription>
        } }
      </div>
    </div>

    }
  </main>

  <app-asider-course
    [course]="course"
    [ActiveLesson]="ActiveLesson"
    [toggleButtonSidebar]="toggleButtonSidebar"
    [expandedModules]="expandedModules"
    (closeSidebar)="toggleOpen()"
    (toggleModuleEvent)="toggleModule($event)"
    (backToCourse)="viewCurse()"
  >
  </app-asider-course>
</div>

}
