<div class="featured-carousel-container">
  <header class="section-header">
    <h2>Destaques</h2>
    <div class="controls">
      <button class="control-button swiper-button-prev-custom">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="20"
          height="20"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <polyline points="15 18 9 12 15 6"></polyline>
        </svg>
      </button>
      <button class="control-button swiper-button-next-custom">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="20"
          height="20"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <polyline points="9 18 15 12 9 6"></polyline>
        </svg>
      </button>
    </div>
  </header>

  <main #swiperContainer class="swiper">
    <div class="swiper-wrapper">
      @for (item of featuredContent; track item.title; let i = $index) {
      <div class="swiper-slide">
        <div class="slide-content">
          <div class="content-section">
            <div class="content-header">
              <div class="icon-container">
                <svg
                  width="20"
                  height="20"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M5 10H7C7 11.1046 6.10457 12 5 12V10ZM5 12V14C6.10457 14 7 13.1046 7 12H5ZM17 10H15C15 11.1046 15.8954 12 17 12V10ZM17 12V14C15.8954 14 15 13.1046 15 12H17ZM10 7V5C11.1046 5 12 5.89543 12 7H10ZM12 7H14C14 5.89543 13.1046 5 12 5V7ZM10 17V19C11.1046 19 12 18.1046 12 17H10ZM12 17H14C14 18.1046 13.1046 19 12 19V17ZM9 12C9 13.6569 10.3431 15 12 15V9C10.3431 9 9 10.3431 9 12ZM12 15C13.6569 15 15 13.6569 15 12H9C9 10.3431 10.3431 9 12 9V15ZM12 15V17H14V15H12ZM12 17C10.3431 17 9 15.6569 9 14H7C7 16.7614 9.23858 19 12 19V17ZM9 14V10H7V14H9ZM9 10C9 8.34315 10.3431 7 12 7V5C9.23858 5 7 7.23858 7 10H9ZM12 7H17V5H12V7ZM17 10V14H19V10H17ZM17 14C17 15.6569 15.6569 17 14 17V19C16.7614 19 19 16.7614 19 14H17Z"
                    fill="currentColor"
                  />
                </svg>
              </div>
              @if (item.badgeText) {
              <span class="recommended-badge">{{ item.badgeText }}</span>
              }
            </div>
            <div class="content-body">
              <h1 class="content-title">{{ item.title }}</h1>
              <p class="content-description">{{ item.description }}</p>
              <div class="author-info">
                <img
                  [src]="item.authorAvatarUrl"
                  alt="Avatar do instrutor"
                  class="author-avatar"
                />
                <p class="author-name">{{ item.authorName }}</p>
                <span class="course-type">{{ item.contentType }}</span>
                <div class="level-indicator">
                  <div
                    class="level-bar"
                    [class.active]="
                      item.level === 'Iniciante' ||
                      item.level === 'Intermediário' ||
                      item.level === 'Avançado'
                    "
                  ></div>
                  <div
                    class="level-bar"
                    [class.active]="
                      item.level === 'Intermediário' ||
                      item.level === 'Avançado'
                    "
                  ></div>
                  <div
                    class="level-bar"
                    [class.active]="item.level === 'Avançado'"
                  ></div>
                </div>
                <span>{{ item.level.toUpperCase() }}</span>
              </div>
            </div>
            <div class="actions">
              <button class="time-button">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="time-icon"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"
                  />
                </svg>
              </button>
              <button class="start-button">
                <span>Iniciar</span>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="start-icon"
                  viewBox="0 0 20 20"
                  fill="currentColor"
                >
                  <path
                    fill-rule="evenodd"
                    d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z"
                    clip-rule="evenodd"
                  />
                </svg>
              </button>
            </div>
          </div>
        </div>

        <div class="slide-video-container">
          <video
            #videoPlayer
            class="slide-video"
            [src]="item.safeVideoUrl"
            [poster]="item.posterUrl"
            [muted]="item.isMuted"
            loop
            playsinline
          ></video>

          <button class="video-control-button play-pause-button" (click)="togglePlayPause(i)">
            <i *ngIf="!item.isPlaying" class="fa-solid fa-play"></i>
            
            <i *ngIf="item.isPlaying" class="fa-solid fa-pause"></i>
          </button>

          <button class="video-control-button mute-unmute-button" (click)="toggleMute(i)">
            <i *ngIf="!item.isMuted" class="fa-solid fa-volume-high"></i>
            
            <i *ngIf="item.isMuted" class="fa-solid fa-volume-xmark"></i>
          </button>
        </div>
      </div>
      }
    </div>
  </main>

  <footer class="carousel-indicators">
    <div class="swiper-pagination"></div>
  </footer>
</div>
